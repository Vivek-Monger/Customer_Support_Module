<odoo>
  <data>
    <!-- List View-->
      <record id="view_customer_support_list_customer" model="ir.ui.view">
        <field name="name">customer.support.module.list.customer</field>
        <field name="model">customer.support.module</field>
        <field name="arch" type="xml">
          <list string="My Tickets" class="customer-ticket-list">
            <field name = "ticket_id"/>
            <field name = "subject"/>
            <field name = "project"/>
            <field name = "description"/>
            <field name = "priority"/>
          </list>
        </field>
      </record>

    <!-- Form View -->
    <record id="customer_support_module_form_view" model="ir.ui.view">
          <field name="name">customer.support.module.form.view</field>
          <field name="model">customer.support.module</field>
          <field name="arch" type="xml">
              <form string="Support Ticket" class="customer_support_form">
                  <sheet>
                      <group>
                          <field name="subject"/>
                          <field name="description"/>
                          <field name="project"/>
                          <field name="priority"/>
                      </group>
                      <!-- File Upload Section - Direct file upload -->
                    <div class="attachment-section">
                        <div class="o_form_label attachment-label">Attachments (Optional)</div>
                        
                        <div class="attachment-preview-header">
                            <strong>Preview</strong>
                        </div>
                        
                        <div class="file-upload-area">
                            <!-- Simple binary field for direct file upload -->
                            <field name="attachment_ids" 
                                   nolabel="1"
                                   context="{'default_res_model': 'customer.support.module', 'default_res_id': id}"
                                   widget="many2many_binary"
                                   options="{'creatable': true, 'editable': true, 'deletable': true}"/>
                            
                            <div class="upload-instructions">
                                <small>Supported formats: Images, PDFs, Documents (Max 5 files, 10MB each)</small>
                            </div>
                        </div>
                    </div>
                  </sheet>
              </form>
          </field>
      </record>

    <!-- Actions -->
      <record id="action_my_tickets" model="ir.actions.act_window">
        <field name="name">My Tickets</field>
        <field name="res_model">customer.support.module</field>
        <field name="view_mode">list,form</field>
        <field name="domain">[('create_uid', '=', uid)]</field>
    </record>

    <!-- Menus -->
    <menuitem
        id="menu_customer_support_root"
        name="Customer Support"
        sequence="10"
    />

    <menuitem
        id="menu_my_tickets"
        name="My Tickets"
        parent="menu_customer_support_root"
        action="action_my_tickets"
        sequence="10"
    />

  </data>
</odoo>
