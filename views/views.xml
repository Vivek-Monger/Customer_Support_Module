<odoo>
  <data>
   
    <!-- List View-->
      <record id="view_customer_support_list_customer" model="ir.ui.view">
        <field name="name">customer.support.module.list.customer</field>
        <field name="model">customer.support.module</field>
        <field name="arch" type="xml">
          <list string="My Tickets" class="customer-ticket-list" create="false">
            <field name = "ticket_id"/>
            <field name = "subject"/>
            <field name = "project_id"/>
            <field name = "description"/>
            <field name = "priority"/>
            
          </list>
        </field>
      </record>

    <!-- Form View -->
    <record id="customer_support_module_form_view" model="ir.ui.view">
          <field name="name">customer.support.module.form.view</field>
          <field name="model">customer.support.module</field>
          <field name="arch" type="xml">
              <form string="Support Ticket" class="customer_support_form" create="false">
                  <sheet>
                      <group>
                          <field name="subject" readonly='1'/>
                          <field name="description" readonly='1'/>
                          <field name="project_id" readonly='1'/>
                          <field name="priority" readonly='1'/>
                          <field name="phase_id" options="{'no_create': False}" 
                           placeholder="Select Phase"/>
                          <field name="assigned_user_id" groups="customer_support_module.group_admin"/>
                      </group>

                      <!-- File Upload Section - Direct file upload -->
                       <group string="Attachments">
                          <field name="attachment_ids" widget="many2many_binary" readonly = '1'/>
                      </group>

                  </sheet>
              </form>
          </field>
      </record>

    <!-- Actions -->

    <record id="action_all_tickets" model="ir.actions.act_window">
        <field name="name">All Tickets</field>
        <field name="res_model">customer.support.module</field>
        <field name="view_mode">list,form</field>
        <!-- No domain â†’ shows all tickets -->
    </record>

    <record id="action_assigned_tickets" model="ir.actions.act_window">
    <field name="name">Assigned Tickets</field>
    <field name="res_model">customer.support.module</field>
    <field name="view_mode">list,form</field>
    <field name="domain">[('assigned_user_id', '=', uid)]</field>
</record>



    <!-- Menus -->
     <menuitem
          id="menu_customer_support_root"
          name="Customer Support"
          sequence="10"
          groups="customer_support_module.group_admin,customer_support_module.group_support_agent"/>

    <menuitem
        id="menu_all_tickets"
        name="All Tickets"
        parent="menu_customer_support_root"
        action="action_all_tickets"
        sequence="10"
        groups="customer_support_module.group_admin"
    />

    <menuitem
      id="menu_assigned_tickets"
      name="Assigned Tickets"
      parent="menu_customer_support_root"
      action="action_assigned_tickets"
      groups="customer_support_module.group_support_agent"
      sequence="20"/>


  </data>
</odoo>
