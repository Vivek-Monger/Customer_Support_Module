<odoo>
  <data>

    <!-- Form View -->
    <record id="view_user_manager_form" model="ir.ui.view">
      <field name="name">user.manager.form</field>
      <field name="model">user.manager</field>
      <field name="arch" type="xml">
        <form string="User Manager">
          <sheet>
            <group>
              <field name="name"/>
              <field name="email"/>
              <field name="role"/>
              <field name="user_id" readonly="1"/>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <!-- List View -->
    <record id="view_user_manager_list" model="ir.ui.view">
      <field name="name">user.manager.list</field>
      <field name="model">user.manager</field>
      <field name="arch" type="xml">
        <list string="User Manager">
          <field name="name"/>
          <field name="email"/>
          <field name="role"/>
          <field name="user_id"/>
        </list>
      </field>
    </record>

    <!-- Action -->
    <record id="action_user_manager" model="ir.actions.act_window">
      <field name="name">User Manager</field>
      <field name="res_model">user.manager</field>
      <field name="view_mode">list,form</field>
      <field name="help" type="html">
        <p class="o_view_nocontent_smiling_face">
          Manage Customers and Support Agents here.
        </p>
      </field>
    </record>

    <!-- Menu -->
    <menuitem id="menu_user_manager_root" 
          name="User Manager" 
          parent="customer_support_module.menu_customer_support_root" 
          sequence="20" 
          action="action_user_manager"
          groups="customer_support_module.group_admin"/>

    <!-- Email Template -->
    <record id="email_template_user_credentials" model="mail.template">
      <field name="name">User Credentials</field>
      <field name="model_id" ref="base.model_res_users"/>
      <field name="subject">Your Login Credentials</field>
      <field name="email_from">${(user.company_id.email or 'noreply@example.com')|safe}</field>
      <field name="auto_delete" eval="True"/>
      <field name="body_html">
        <![CDATA[
        <p>Hello ${object.name},</p>
        <p>Your Odoo account has been created. You can login using the following credentials:</p>
        <ul>
            <li><b>Login:</b> ${ctx.get('login')}</li>
            <li><b>Password:</b> ${ctx.get('password')}</li>
        </ul>
        <p>Please change your password after first login.</p>
        <p>Thanks,</p>
        <p>${user.company_id.name}</p>
        ]]>
      </field>
    </record>

  </data>
</odoo>
